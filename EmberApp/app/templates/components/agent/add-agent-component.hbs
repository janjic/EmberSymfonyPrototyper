<section class="form-wizard">
    <h1 class="main-heading">Add New Agent</h1>
    <div class="stepwizard">
        <div class="stepwizard-row setup-panel">
            <div class="stepwizard-step">
                <a href="#step-1" type="button" class="btn btn-primary btn-circle">1</a>
                <p>Step 1</p>
                <!--<a href="#step-1">-->
                <!--<span class="number">2</span>-->
                <!--<span class="desc">Account Setup</span>-->
                <!--</a>-->
            </div>
            <div class="stepwizard-step">
                <a href="#step-2" type="button" class="btn btn-default btn-circle" disabled="disabled" id="button-step2">2</a>
                <p>Step 2</p>
            </div>
            <div class="stepwizard-step">
                <a href="#step-3" type="button" class="btn btn-default btn-circle" disabled="disabled">3</a>
                <p>Step 3</p>
            </div>
        </div>
    </div>
    <div id="bar" class="progress progress-striped" role="progressbar">
        <div class="progress-bar progress-bar-alert" style="width: 33%;"> </div>
    </div>
    <form role="form">
        <div class="row setup-content" id="step-1">
            <div class="col-xs-12">
                <div class="col-md-12">
                    <h3 class="sub-heading"> Provide new user account details</h3>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Choose type
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{role-picker-component onRoleSelected=(action 'roleSelected') changeset = changeset
                            property="group" validateProperty=(action 'validateProperty' changeset "group")}}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Choose superior agent
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{agent-picker-component onAgentSelected=(action 'agentSelected') changeset = changeset
                            property="superior" validateProperty=(action 'validateProperty' changeset "superior")}}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Title
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            <select class="form-control" onchange={{ action 'titleChanged'  value="target.value"}}>
                                <option value="-1" disabled selected>Choose title</option>
                                <option value="MR" >Mr.</option>
                                <option value="MRS" >Mrs.</option>
                            </select>
                            {{#if (get changeset.error 'title')}}
                                <small>
                                    <ul>
                                        {{#each (get (get changeset.error 'title') "validation") as |message|}}
                                            <li>{{message}}</li>
                                        {{/each}}
                                    </ul>
                                </small>
                            {{/if}}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Agent ID
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{validated-field doNotShowLabel=true property="agentID" changeset=changeset type="text"
                            validateProperty=(action 'validateProperty' changeset "agentID")}}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">First Name
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{validated-field doNotShowLabel=true property="firstName" changeset=changeset type="text"
                            validateProperty=(action 'validateProperty' changeset "firstName")}}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Last Name
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{validated-field doNotShowLabel=true property="lastName" changeset=changeset type="text"
                            validateProperty=(action 'validateProperty' changeset "lastName")}}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Password
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{validated-field doNotShowLabel=true property="plainPassword" changeset=changeset type="password"
                            validateProperty=(action 'validateProperty' changeset "plainPassword")}}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Repeat Password
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{validated-field doNotShowLabel=true property="passwordRepeat" changeset=changeset type="password"
                            validateProperty=(action 'validateProperty' changeset "passwordRepeat")}}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Email
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{validated-field doNotShowLabel=true property="email" changeset=changeset type="text"
                            validateProperty=(action 'validateProperty' changeset "email")}}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Repeat email
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{validated-field doNotShowLabel=true property="emailRepeat" changeset=changeset type="text"
                            validateProperty=(action 'validateProperty' changeset "emailRepeat")}}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Private Email
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{validated-field doNotShowLabel=true property="privateEmail" changeset=changeset type="text"
                            validateProperty=(action 'validateProperty' changeset "privateEmail")}}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <div class="col-xs-12 col-md-7">
                            <button class="btn btn-primary nextBtn btn-lg pull-right" type="button">Next</button>
                        </div>
                    </div>
                    <!--<button class="btn btn-primary nextBtn btn-lg col-sm-offset-3 col-xs-offset-4 add-margin-left" type="button">Next</button>-->
                </div>
            </div>
        </div>
        <div class="row setup-content" id="step-2">
            <div class="col-xs-12">
                <div class="col-md-12">
                    <h3 class="sub-heading"> Provide new user personal details</h3>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Phone number
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{input type="text" class="form-control" value=model.address.fixedPhone }}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Mobile number
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{validated-field doNotShowLabel=true property="phone" changeset=addressChangeset type="text"
                            validateProperty=(action 'validateProperty' addressChangeset "phone")}}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Street and number
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{validated-field doNotShowLabel=true property="streetNumber" changeset=addressChangeset type="text"
                            validateProperty=(action 'validateProperty' addressChangeset "streetNumber")}}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Postcode
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{validated-field doNotShowLabel=true property="postcode" changeset=addressChangeset type="text"
                            validateProperty=(action 'validateProperty' addressChangeset "postcode")}}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">City
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{input type="text" class="form-control" value=model.address.city }}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Country
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{elements.country-select selectedCountry=model.address.country onCountryChange=(action 'changeCountry')}}
                            {{#if (get addressChangeset.error 'country')}}
                                <small>
                                    <ul>
                                        {{#each (get (get addressChangeset.error 'country') "validation") as |message|}}
                                            <li>{{message}}</li>
                                        {{/each}}
                                    </ul>
                                </small>
                            {{/if}}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Language
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{elements.language-select selectedLanguage=model.nationality onLanguageSelected=(action 'updateLanguage')}}
                            {{#if (get changeset.error 'nationality')}}
                                <small>
                                    <ul>
                                        {{#each (get (get changeset.error 'nationality') "validation") as |message|}}
                                            <li>{{message}}</li>
                                        {{/each}}
                                    </ul>
                                </small>
                            {{/if}}
                        </div>
                    </div>

                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Date of birth
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{pikaday-input useUTC=true format="MM/DD/YYYY" onSelection=(action 'updateAgentBirthDate') value=model.birthDate}}
                            {{#if (get changeset.error 'birthDate')}}
                                <small>
                                    <ul>
                                        {{#each (get (get changeset.error 'birthDate') "validation") as |message|}}
                                            <li>{{message}}</li>
                                        {{/each}}
                                    </ul>
                                </small>
                            {{/if}}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <div class="col-xs-12 col-md-7">
                            <button class="btn btn-primary nextBtn btn-lg pull-right" type="button">Next</button>
                        </div>
                    </div>
                    <!--<button class="btn btn-primary nextBtn btn-lg col-sm-offset-6 col-xs-offset-5" type="button">Next</button>-->
                </div>
            </div>
        </div>
        <div class="row setup-content" id="step-3">
            <div class="col-xs-12">
                <div class="col-md-12">
                    <h3 class="sub-heading"> Agent bank information</h3>

                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Social security number
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{input type="text" class="form-control" value=model.socialSecurityNumber }}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Bank name
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{input type="text" class="form-control" value=model.bankName }}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Bank account number or IBAN
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{input type="text" class="form-control" value=model.bankAccountNumber }}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Agent Background
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8">
                            {{textarea class="form-control" value=model.agentBackground}}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <label class="control-label col-md-3 col-xs-4">Insert agent image
                            <span class="required" aria-required="true"> * </span>
                        </label>
                        <div class="col-md-4 col-xs-8 user-img">
                            {{drop-zone keepLocal=true addRemoveLinks=true onAddedFile=(action 'addedFile') }}
                        </div>
                    </div>
                    <div class="form-group clearfix">
                        <div class="col-xs-12 col-md-7">
                            <button class="btn btn-success finish-btn btn-lg pull-right" type="submit" {{action 'saveAgent' changeset }}>Finish!</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </form>
</section>

