<h1 class="main-heading clearfix">
    {{title}}
    <span class="pull-right head-buttons">
        <a href="#" class="button green btn-small" {{action 'openModal'}}>Filter Results</a>
        {{#unless hidePayAllButtons}}
            {{#unless hidePayButton}}
                <a href="#" {{action 'payAll'}}class="button green btn-small">Pay all</a>
            {{/unless}}
            {{#unless hideRejectButton}}
                <a href="#" {{action 'rejectAll'}} class="button red btn-small">Reject all</a>
            {{/unless}}
        {{/unless}}
    </span>
</h1>

{{#bs-modal open=isModalOpen header=false body=false footer=false}}
    {{#bs-modal-header}}
        <h4 class="modal-title">
            Select filters
        </h4>
    {{/bs-modal-header}}
    {{#bs-modal-body}}
        {{#unless hideAgentFilter}}
            <div class="form-group clearfix">
                <label>
                    Select agent
                </label>
                {{inf-select
                optionLabelKey='email'
                on-search = (perform search)
                on-change=(action 'agentSelected')
                }}
            </div>

            <div class="form-group clearfix">
                <label>
                    Select country
                </label>
                {{elements/country-select onCountryChange=(action 'changeCountry')}}
            </div>
        {{/unless}}
        <div class="form-group clearfix">
            <label>
                Select type
            </label>
            {{inf-select
            content=paymentTypes
            on-change=(action 'typeChange')
            }}
        </div>
        {{#unless hideAgentFilter}}
            <div class="form-group clearfix">
                {{date-range-picker
                label = 'Select date'
                autoUpdateInput = false
                daysOfWeek  = daysOfWeek
                applyLabel  = "Apply"
                cancelLabel = "Clear"
                fromLabel   = "From"
                toLabel     = "To"
                customRangeLabel = "Custom"
                monthNames = monthNames
                start=startDate
                showDropdowns = true
                ranges = ranges
                alwaysShowCalendars = true
                end=endDate
                applyAction=(action "applyDateChange")
                cancelAction=(action "cancelDateChange")
                }}
            </div>
        {{/unless}}
    {{/bs-modal-body}}
    {{#bs-modal-footer}}
        <button class="button green" {{action 'applyFilters'}}>
            {{#if isLoading}}
                {{inf-loading}}
            {{else}}
                Apply
            {{/if}}
        </button>
        <button class="button red" {{action 'closeModal'}}>Cancel</button>
    {{/bs-modal-footer}}
{{/bs-modal}}

<div class="reports-holder">

    {{#if model.length}}
        {{#card-view-component model=model page=page maxPages=maxPages offset=offset filter=filterModel hideSearchAndFilter=true as |yieldModel|}}
            {{payment/payment-info-listing-item-component
            hidePayAllButtons=hidePayAllButtons
            payment=yieldModel}}
        {{/card-view-component}}
    {{else}}
        <div>
            No results found for selected filters
        </div>
    {{/if}}

</div>